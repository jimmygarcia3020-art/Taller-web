<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Egresos - Sistema Contable</title>
  <link rel="stylesheet" href="../../style_contador_slidebar.css" />
  <link rel="stylesheet" href="style_egresos_contador.css" />
</head>
<body>
  <!-- SIDEBAR -->
    <nav class="sidebar" id="sidebar">
        <button class="toggle-btn" id="toggle-btn">‚ò∞</button>
        <ul>
            <li><a href="../../index_contador.html"><span class="emoji">üè†</span><span class="text">Inicio</span></a></li>
            <li><a href="../ingresos_contador/ingresos_contador.html"><span class="emoji">üí∞</span><span class="text">Ingresos</span></a></li>
            <li><a href="../egresos_contador/egresos_contador.html"><span class="emoji">üí∏</span><span class="text">Egresos</span></a></li>            
            <li><a href="../impuestos_contador/impuestos_contador.html"><span class="emoji">üßÆ</span><span class="text">Impuestos</span></a></li>
            
            <li><a href="../reportes_contador/reportes_contador.html"><span class="emoji">üìà</span><span class="text">Reportes</span></a></li>

            <li><a href="../../cerrar_sesion.php"><span class="emoji">üö™</span><span class="text">Cerrar sesi√≥n</span></a></li>
        </ul>
    </nav>
  <script>
          // === FUNCIONES ESENCIALES PARA EL TOGGLE Y DROPDOWN ===

          // 1. Alternar la barra lateral (colapsar/expandir)
          document.getElementById("toggle-btn").addEventListener("click", function() {
              document.getElementById("sidebar").classList.toggle("collapsed");
          });

          // 2. Alternar el Dropdown (Contabilidad/Reportes)
          function toggleDropdown(dropdownId) {
              var dropdown = document.getElementById(dropdownId);
              if (dropdown) {
                  // Cierra todos los dem√°s dropdowns abiertos
                  document.querySelectorAll(".dropdown.open").forEach(openDropdown => {
                      if (openDropdown.id !== dropdownId) {
                          openDropdown.classList.remove("open");
                      }
                  });

                  // Abre o cierra el dropdown actual
                  dropdown.classList.toggle("open");
              }
          }
      </script>


  <!-- CONTENIDO PRINCIPAL -->
  <main class="main-content">
    <header class="top-bar">
      <h1>Registro de Egresos</h1>
      <p>Gesti√≥n de compras y gastos de la empresa (seg√∫n SUNAT Per√∫)</p>
    </header>

    <section class="form-container">
      <h2>Registrar nuevo egreso</h2>
      <form id="formEgreso" action="egresos_contador.php" method="POST">
        <div class="form-group">
          <label>Fecha del comprobante:</label>
          <input type="date" id="fecha" name="fecha" required />
        </div>

        <div class="form-group">
          <label>Tipo de comprobante:</label>
          <select id="tipoComprobante" name="doc" required>
            <option value="">Seleccione...</option>
            <option value="Factura">Factura</option>
            <option value="Boleta">Boleta</option>
            <option value="Recibo por Honorarios">Recibo por Honorarios</option>
            <option value="Voucher">Voucher</option>
          </select>
        </div>

        <div class="form-group">
          <label>RUC o DNI del proveedor:</label>
          <input type="text" id="rucProveedor" name="entidad" maxlength="11" placeholder="Ejemplo: 20123456789" required />
        </div>

        <div class="form-group">
          <label>Raz√≥n social o nombre:</label>
          <input type="text" id="razonSocial" name="razon" required />
        </div>

        <div class="form-group">
          <label>Descripci√≥n del gasto:</label>
          <input type="text" id="descripcion" name="descripcion"  placeholder="Ejemplo: Servicios de internet, compra de √∫tiles, etc." required />
        </div>

        <div class="form-group">
          <label>Base imponible (S/):</label>
          <input type="number" id="baseImponible" name="base" step="0.01" required />
        </div>

        <div class="form-group">
          <label>IGV (18%):</label>
          <input type="number" id="igv" name="igv" step="0.01" readonly />
        </div>

        <div class="form-group">
          <label>Total (S/):</label>
          <input type="number" id="total" name="monto" step="0.01" readonly />
        </div>

        <button type="submit">Registrar Egreso</button>
      </form>
    </section>

    <section class="tabla-egresos">
      <h3>Listado de egresos registrados</h3>
      <table>
        <thead>
          <tr>
            <th>Fecha</th>
            <th>Comprobante</th>
            <th>Proveedor</th>
            <th>Descripci√≥n</th>
            <th>Base (S/)</th>
            <th>IGV (S/)</th>
            <th>Total (S/)</th>
          </tr>
        </thead>
        <tbody id="tablaEgresosBody">
          <!-- Aqu√≠ se insertar√°n las filas din√°micamente -->
        </tbody>
      </table>
    </section>
  </main>

  <script src="/script.js"></script>
  <script src="script_contador_egresos.js"></script>
</body>
</html>
